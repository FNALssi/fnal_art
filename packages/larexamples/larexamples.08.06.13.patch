commit 8afd4145f3424a8f72157144a01f8dffb032c0d2
Author: Patrick Gartung <gartung@fnal.gov>
Date:   Sat Apr 4 21:01:11 2020 -0500

    Cetmodules

diff --git a/CMakeLists.txt b/CMakeLists.txt
index e27b298..10241e7 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -10,17 +10,10 @@
 # use cmake 3.14 or later
 cmake_minimum_required (VERSION 3.12...3.14 FATAL_ERROR)
 
-project(larexamples LANGUAGES CXX)
+project(larexamples VERSION 08.06.13 LANGUAGES CXX)
 
-# cetbuildtools contains our cmake modules
-SET ( CETBUILDTOOLS_VERSION $ENV{CETBUILDTOOLS_VERSION} )
-IF (NOT CETBUILDTOOLS_VERSION)
-    MESSAGE (FATAL_ERROR "ERROR: setup cetbuildtools to get the cmake modules")
-ENDIF()
-
-set(CMAKE_MODULE_PATH $ENV{CANVAS_ROOT_IO_DIR}/Modules
-		      $ENV{CETBUILDTOOLS_DIR}/Modules
-		      ${CMAKE_MODULE_PATH})
+find_package( cetmodules )
+set(fcl_dir job)
 
 include(CetCMakeEnv)
 cet_cmake_env()
@@ -34,18 +27,10 @@ cet_set_compiler_flags(DIAGS CAUTIOUS
 cet_report_compiler_flags()
 
 # these are minimum required versions, not the actual product versions
-find_ups_product( larcoreobj )
-find_ups_product( larcorealg )
-find_ups_product( larcore )
-find_ups_product( lardataobj )
-find_ups_product( lardataalg )
-find_ups_product( lardata )
-find_ups_product( larevt )
-find_ups_product( larsim )
-find_ups_product( nutools )
-find_ups_product( art )
-find_ups_product(art_root_io)
-find_ups_product( cetbuildtools )
+find_package( ROOT REQUIRED COMPONENTS Core Physics Hist MathMore RIO GenVector Geom Minuit Minuit2 XMLIO Gdml TMVA EG)
+set(HAVE_ROOT6 BOOL:True)
+set(ROOTCLING ROOT::rootcling)
+find_package( larsim REQUIRED )
 
 # macros for dictionary and simple_plugin
 include(ArtDictionary)
@@ -55,11 +40,11 @@ include(BuildPlugins)
 # source
 add_subdirectory(larexamples)
 add_subdirectory(test)
-
+add_subdirectory(cmakeConfig)
 # ups - table and config files
-add_subdirectory(ups)
+#add_subdirectory(ups)
 
 # packaging utility
-include(UseCPack)
+#include(UseCPack)
 
 
diff --git a/cmakeConfig/CMakeLists.txt b/cmakeConfig/CMakeLists.txt
new file mode 100644
index 0000000..f26fd62
--- /dev/null
+++ b/cmakeConfig/CMakeLists.txt
@@ -0,0 +1,3 @@
+
+# create package configuration and version files
+cet_cmake_config(CONFIG_FRAGMENTS larexamples-fragment.cmake.in)
diff --git a/cmakeConfig/larexamples-fragment.cmake.in b/cmakeConfig/larexamples-fragment.cmake.in
new file mode 100644
index 0000000..23d09c7
--- /dev/null
+++ b/cmakeConfig/larexamples-fragment.cmake.in
@@ -0,0 +1,4 @@
+find_package( ROOT REQUIRED COMPONENTS Core Physics Hist MathMore RIO GenVector Geom Minuit Minuit2 XMLIO Gdml TMVA EG)
+set(HAVE_ROOT6 BOOL:True)
+set(ROOTCLING ROOT::rootcling)
+find_package( larsim REQUIRED )
diff --git a/test/Services/ShowerCalibrationGalore/Services/CMakeLists.txt b/test/Services/ShowerCalibrationGalore/Services/CMakeLists.txt
index c94ecac..8b31f80 100644
--- a/test/Services/ShowerCalibrationGalore/Services/CMakeLists.txt
+++ b/test/Services/ShowerCalibrationGalore/Services/CMakeLists.txt
@@ -6,7 +6,7 @@ simple_plugin(ShowerCalibrationGaloreTest "module"
   mf_MessageLogger
   fhiclcpp
   cetlib cetlib_except 
-  ${ROOT_BASIC_LIB_LIST}
+  ${ROOT_LIBRARIES}
 )
 
 
